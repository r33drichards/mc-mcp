{{Dangerous version|type=data-loss|[[Furnace]]s, [[smoker]]s, and [[blast furnace]]s delete their contents when they are reloaded after smelting items.<ref>{{bug|MC-277144}}</ref>|version=development|edition=Java}}
{{Infobox version
| title = Minecraft 24w40a
| image = 24w40a.jpg
| image2 = Java Edition 24w40a.png
| edition = Java
| type = Snapshot
| date = October 2, 2024
| jsonhash = 0caf7e59cb0b314e6a1137a4ddc4b12b2075cdeb
| clienthash = de5a7e4450b63ffa0a488f8e86f368f26e69aaeb
| clientmap = 781067ebe026acad28eeb27211a3ab23851cf7e6
| serverhash = 2e2e224520156be9bc7c76be8158af9825d873d9
| servermap = 80da36d7f08272f009b710e8ebcbba4089732c79
| parent = 1.21.2
| prevparent = 1.21.1
| prev = 24w39a
| next = 1.21.2 Pre-Release 1
| nextparent = 1.21.3
}}<onlyinclude>

'''24w40a''' is the eighth and final [[snapshot]] for [[Java Edition 1.21.2]], released on October 2, 2024,<ref>{{snap|24w40a|October 2, 2024}}</ref> which introduced experimental features for the [[Winter Drop]] announced at [[Minecraft Live 2024]] four days before, as well as the {{cmd|rotate}} command.

== Additions ==
=== Command format ===
'''{{cmd|rotate}}'''
* New command to rotate entities.
* Syntax:
** {{cmd|rotate <target> <rotation>}}
** {{cmd|rotate <target> facing <facingLocation>}}
** {{cmd|rotate <target> facing entity <facingTarget> [<facingAnchor>]}}
* Parameters:
** <code>target</code>: The entity to rotate.
** <code>rotation</code>: Two rotation values in degrees denoting horizontal and vertical rotation.
*** May use relative (~) coordinate notation to specify rotation relative to current context rotation.
** <code>facingLocation</code>: The coordinates of a location in the world for the rotated entity to face.
** <code>facingTarget</code>: An entity for the rotated entity to face.
** <code>facingAnchor</code>: Specifies the anchor of the <code>facingTarget</code> entity to rotate towards - feet or eyes (by default feet).

=== Gameplay ===
'''[[Particles (Java Edition)|Particles]]'''
* Added particles <code>block_crumble</code> and <code>trail</code>.
* <code>block_crumble</code> has the following options:
** <code>block_state</code>: The [[block states]] of the block.
* <code>trail</code> has the following options:
** <code>color</code>: Color of the trail.
** <code>target</code>: Where the trail points at.

=== General ===
'''[[Experiments]]'''
* Added the [[Winter Drop]] experimental data pack.

'''[[Options]]'''
* Added the "High Contrast Block Outlines" accessibility option, to make targeted block's outlines more visible.

'''[[Tag]]'''
* Added item tag <code>#gaze_disguise_equipment</code> for items that can be equipped to disguise the player looking for other mobs.

== Changes ==
=== Items ===
'''Dyed [[shulker box]]es and [[bundle]]s'''
* Can no longer be dyed twice with the same color.

=== Command format ===
'''{{cmd|ride}}'''
* No longer makes players ride [[leash knot]]s, [[lightning bolt]]s and [[fishing bobber]]s.

=== Gameplay ===
'''[[Recipe book]]'''
* Dyeing recipe for [[bundle]]s are now unlocked when dyes are obtained instead of undyed bundle.

=== General ===
'''[[Data pack]]'''
* The [[pack format]] version is now <code>56</code>.

'''[[Enchantment definition]]'''
* Entity effect <code>damage_item</code> has been renamed to <code>change_item_damage</code> and now allows a negative value.

'''[[Realms]]'''
* The game mode for the last active world on a realm is now visible on the main Realms screen if applicable.

'''[[Resource pack]]'''
* The [[pack format]] version is now <code>40</code>.

== Experimental ==
The listed additions and changes are only present when the "Winter Drop" experimental data pack is enabled.

=== Additions ===
==== Blocks ====
'''[[File:Creaking Heart JE1 BE1.png|32px]] [[File:Active Creaking Heart JE1 BE1.png|32px]] [[Creaking heart]]'''
* A “living” block generating in pale oak trees, covered on all sides by pale oak wood logs.
** It can spawn a creaking mob when it is nighttime, and it is placed between two correctly aligned pale oak log blocks.
** Is active during night and dormant during day.
* Sends a trail of particles towards the connected creaking when the creaking gets hit by the player.
** Particle speed is affected by the distance of the creaking from the heart block.
* Mining the block is most efficiently done with an axe, but it only drops when using a [[Silk Touch]] tool.
** When creaking heart block is destroyed, the connected creaking is removed.

'''[[File:Pale Hanging Moss JE1 BE1.png|32px]] [[Pale hanging moss]]'''
* Generates naturally in the pale garden biome under the foliage of pale oaks.
** Does not grow randomly, but can be bonemealed to grow down.

'''[[File:Pale Moss Block JE1 BE1.png|32px]] [[Pale moss block]]'''
* Generates naturally in the pale garden biome As part of [[pale moss patch]]es.
** Can be bonemealed to spread to compatible blocks.

'''[[File:Pale Moss Carpet JE1 BE1.png|32px]] [[Pale moss carpet]]'''
* Generates naturally in the pale garden biome As part of [[pale moss patch]]es.
** When placed, grows up to two blocks on the solid faces of any block that borders it.
** Can be bonemealed to grow to full on all solid faces of any block that borders it.

'''[[File:Pale Oak Leaves JE1.png|32px]] [[Pale oak leaves]]'''
* A new type of leaves.

'''[[File:Pale Oak Log JE1 BE1.png|32px]] [[File:Stripped Pale Oak Log JE1 BE2.png|32px]] [[Pale oak log]]'''
* A new type of log, as well as a stripped variant.
* Can be used to craft pale oak wood and planks.

'''[[File:Pale Oak Planks JE1 BE1.png|32px]] [[Pale oak planks]]'''
* A new type of plank.
* Can be used to craft [[File:Pale Oak Boat (item) JE1 BE1.png|32px]] [[boat]]s, [[File:Pale Oak Boat with Chest (item) JE1 BE1.png|32px]] [[boats with chests]], [[File:Pale Oak Button JE1 BE1.png|32px]] [[button]]s, [[File:Pale Oak Door JE1 BE1.png|32px]] [[door]]s, [[File:Pale Oak Fence (EW) JE1.png|32px]] [[fence]]s, [[File:Pale Oak Fence Gate JE1 BE1.png|32px]] [[fence gate]]s, [[File:Pale Oak Hanging Sign (item) JE1 BE1.png|32px]] [[hanging sign]]s, [[File:Pale Oak Pressure Plate JE1 BE1.png|32px]] [[pressure plate]]s, [[File:Pale Oak Sign JE1 BE1.png|32px]] [[sign]]s, [[File:Pale Oak Slab JE1 BE1.png|32px]] [[slab]]s, [[File:Pale Oak Stairs JE1 BE1.png|32px]] [[stairs]], and [[File:Pale Oak Trapdoor JE1 BE1.png|32px]] [[trapdoor]]s.

'''[[File:Pale Oak Sapling JE1 BE1.png|32px]] [[Pale oak sapling]]'''
* A new type of sapling.
* Can be placed in [[flower pot]]s.

'''[[File:Pale Oak Wood JE1 BE1.png|32px]] [[File:Stripped Pale Oak Wood JE1 BE2.png|32px]] [[Pale oak wood]]'''
* A new type of wood, as well as a stripped variant.
* Can be used to craft pale oak planks.

==== Items ====
'''[[Spawn egg]]'''
* [[File:Creaking Spawn Egg JE1 BE1.png|32px]] Added the [[creaking]] spawn egg.

==== Mobs ====
'''[[File:Creaking JE1 BE1.png|20px]] [[Creaking]]'''
* Spawns at night in the pale garden biome if there is a creaking heart block that has been generated in a pale oak tree.
** Is not affected by light levels but spawns and despawns based on day/night cycle.
* It follows and attacks players up to 32 blocks away from its creaking heart block.
** An activated creaking don't move if a player is looking at it.
** A player wearing a carved pumpkin on their head can look at creaking without it freezing in place.
* Is invulnerable to damage.
** When hit, a particle trail is shown between the creaking and the creaking heart block it is connected to.
** When the creaking heart block the creaking is connected to is destroyed, the creaking is removed, with no loot or experience dropped from the mob.
* Cannot enter [[boat]]s.
* If spawned from a creaking heart, it can not go through portals.
* The creaking spawn egg spawns a creaking mob that is not connected to a creaking heart. The creaking mob persists through day and night, loads and saves, and takes damage from attacks and other damage sources. It has one point of health (half a heart).
** Creaking summoned from the creaking heart cannot be spawned with a spawn egg, nor can it be summoned with commands. It can only exist as a part of the creaking heart block.

==== World generation ====
'''{{BiomeLink|Pale garden}}'''
* A new [[biome]] which contains pale oaks and pale moss blocks/carpet.
* It is a variation of the [[dark forest]] biome, with pale oak trees instead of dark oak trees.
* Animal mobs do not spawn naturally.
* The grass in the pale garden has a desaturated, grayish look, the sky is a smoky gray, and water is a pale light blue.
** Any tinted leaves places in the biome also get a desaturated, gray look.

'''{{EnvLink|Pale oak}}'''
* A new type of [[tree]] which can be grown from pale oak saplings in a 2x2 configuration.
** Generates naturally in the pale garden biome.

'''[[Pale moss patch|Pale moss patch]]'''
* A large patch consisting of pale moss, a pale moss carpet, and [[grass]].

==== General ====
'''[[Sound]]s'''
* Ambient sounds in the pale garden biome do not come from the biome settings but are generated by blocks found in the biome.
** Pale hanging moss emits subtle atmospheric sounds when it is attached to pale oak logs and pale oak leaves.
** Creaking heart block emits a set of eerie sounds when it is active during night and surrounded by Logs on all sides.

'''[[Tag]]s'''
* Added the <code>#pale_oak_logs</code> block and item tags.

=== Changes ===
==== Mobs ====
'''[[Illager]]s and [[ravager]]s'''
* Are now afraid of the creaking.

'''[[Parrot]]s'''
* Can now imitate the creaking.

==== Gameplay ====
'''[[Advancement]]s'''
* The pale garden is now a requirement for "Adventuring Time".
* The creaking grants "Monster Hunter", and is now a requirement for "Monsters Hunted".

==== General ====
'''[[Tag]]s'''
* Added <code>pale_garden</code> to the <code>#is_forest</code>, and <code>#stronghold_biased_to</code> biome tags.
* Added the pale oak wood types to their respective tags.

== Fixes ==
{{Fixes|fixedin=24w40a
|;From released versions before 1.21
|64265|Teleporting passengers does not dismount them.
|108323|Underlines in chat and {{cmd|/title}} command intersect each other, causing an ugly effect when fading.
|131215|Cannot teleport an entity which is in a boat.
|185144|Item durability bar and all items render incorrectly in the villager trade UI.
|259651|<code>updateSkyBrightness()</code> is not used client-side, causing multiple issues.
|;From 1.21
|272946|The block outline is nearly invisible for some blocks.
|273848|Players can spawn underwater again in 1.21.
|;From 1.21.1
|276005|The text of sneaking players' name tags is rendered completely invisible or barely visible when the "Text Background Opacity". accessibility option is set to high values.
|276852|Shulker boxes can be colored in the same color they are made of.
|;From the 1.21.2 development versions
|275505|The {{cmd|/tp}} command forces a mounted entity to dismount.
|275706|Vanilla clients can't display items with components in recipe book anymore.
|275790|Non-existent entries in certain tags that are not required causes validation error.
|276330|Bundles no longer play a sound when being emptied.
|276387|Bundles can remain in the open state when using hotkeys to move them into different slots.
|276391|The item durability and bundle fullness bars render incorrectly when held over recipe book elements.
|276440|Items within bundle tooltips can be unselected by scrolling despite only one item being present.
|276596|Damageable horse armor with "<code>damage_on_hurt</code>" enabled doesn't take damage when the horse wearing it is hurt.
|276640|Riding an entity constantly teleported with relative coordinates produces jittery camera movement.
|276651|<code>damage_item</code> does not repair items when the value is negative.
|276669|Pausing the game spams "Trying to save removed ender pearl, skipping" to log if ender pearls have landed.
|276806|The text of name tags behind blocks or entities is rendered completely invisible or barely visible when the "Text Background Opacity" accessibility option is set to high values.
|276850|Bundles can be colored in the same color they are made of.
|276876|Lava cauldrons deal less damage to boats and minecarts than before.
|;prev
|276947|Command server output in singleplayer is printed into chat.
|276948|Split boat entity types have capitalized 'With'.
|276949|Old boat entity type translation keys are not deprecated.
|276956|Cannot access registries in container block entity "<code>lock</code>" field.
|276980|Projectiles on the wall in the water will continue to produce bubble trails.
|277020|Arrows produce bubble particles when on a block in water, and retain those particles when the water is removed.
}}</onlyinclude>

== Videos ==
{{Slicedlime|FWJ2bZFo5Cs|e42CyBjaAv4}}

== References ==
{{reflist}}

== Navigation ==
{{Navbox Java Edition versions|1.2x}}

[[de:24w40a]]
[[es:Java Edition 24w40a]]
[[fr:Édition Java 24w40a]]
[[ja:Java Edition 24w40a]]
[[pt:Edição Java 24w40a]]
[[ru:24w40a (Java Edition)]]
[[uk:24w40a (Java Edition)]]
[[zh:Java版24w40a]]