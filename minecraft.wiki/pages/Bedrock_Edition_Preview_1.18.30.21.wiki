{{Infobox version
|edition=Bedrock
|image=Bedrock 1.18.30.20 PatchNotes.jpg
|image2=Bedrock 1.18.30.20.png
|image3=Bedrock 1.18.30.21.png
|type=Preview
|parent=1.18.30
|internal=;Beta
'''Windows''': 1.18.3020.0<br>
'''Xbox One''': 1.18.3020.70<br>
'''Android''': 1.18.30.20<br>
'''Preview'''
'''Windows''': 1.18.3021.0<br>
'''Xbox One''': 1.18.3021.70<br>
'''iOS, iPadOS''': 1.18.30.21<br>
|date='''Windows, Android, iOS, iPadOS, Xbox''': March 3, 2022
|prevparent=1.18.12
|prev=Preview 1.18.20.30
|next=Preview 1.18.30.23
|nextparent=1.18.31
}}<onlyinclude>

'''Beta 1.18.30.20''' (Windows, Android, Xbox) or '''Preview 1.18.30.21''' (Windows, iOS, iPadOS, Xbox) is the sixth beta/''Preview'' version for [[Bedrock Edition 1.18.30]], released on March 3, 2022,<ref>{{cite|url=https://feedback.minecraft.net/hc/en-us/articles/4577469770381-Minecraft-Beta-Preview-1-18-30-20-21|title=Minecraft Beta & Preview - 1.18.30.20/21|website=feedback.minecraft.net|date=March 3, 2022}}</ref> which makes changes to the [[sculk shrieker]], nerfs [[armor]] protection and fixes bugs.

== Changes ==
=== Items ===
'''[[Armor]]'''
* Added armor toughness to minimize the effects of the new armor penetration mechanics.
** Diamond armor and netherite armor now have a toughness value of 2 and 3 respectively.
** Netherite armor will now reduce more damage than diamond armor.
* Tweaked armor reduction calculation to account for toughness.
* Armor protects less due to the new penetration system, armor points count for less as the attack strength increases: each {{hp|2}} done by the attack reduces the effective defense points by {{armor|1}}, but not below 20% of the armor points. Each armor point now defends 0.8% to 4% instead of always 4%.
* Lowered the amount of knockback resistance granted by [[netherite]] armor. Each armor piece gives 10% of knockback reduction instead of 22.5%, so a full set reduces 40% of knockback instead of 90%.

=== Gameplay ===
'''[[Enchanting]]'''
* Protection now reduce damage from negative status effects like [[poison]] or [[Wither (effect)|wither]].<ref>{{bug|MCPE-40651}}</ref>
* Protection enchantments have been nerfed to match ''[[Java Edition]]''. A full set of armor with Protection IV is ''not'' sufficient for a maximum amount of protection.<ref>{{bug|MCPE-113191}}</ref>

=== Technical ===
'''General'''
* Removed {{cd|preventsjumpingcomponent}} from data-driven blocks

'''Graphics'''
* Testing RenderDragon on all Android, iOS, and iPadOS devices

'''{{cd|JumpToBlock}} Behavior'''
* {{cd|JumpToBlock}} behavior is now correctly affected by {{cd|JumpBoost}} mob effect ({{bug|MCPE-137432}})

'''Block Components'''
* Fixed a case where experimental {{cd|BlockCollisionComponents}} did not allow partial specification

== Experimental ==
These additions and changes are accessible by enabling the "Wild Update" and "GameTest Framework" experimental toggle.
=== Changes ===
==== Blocks ====
'''[[Sculk Shrieker]]'''
* Now listens to the tendril clicking of the sculk sensor.
* The threat level that causes the warden to spawn (to be added in a future beta/preview) will now be decreased over time.

==== Technical ====
'''GameTest Framework'''
* {{cd|BlockExplodeEvent}}
** Removed property {{cd|destroyedBlockPermutation}}
* World additions for music management:
** {{cd|queueMusic(trackName : string, musicOptions : MusicOptions)}}
** {{cd|playMusic(trackName : string, musicOptions : MusicOptions)}}
** {{cd|stopMusic()}}
* Added {{cd|MusicOptions}} JS class with volume, {{cd|fadeSeconds}} and loop properties
* Added event {{cd|entityHurt(entityHurtEvent: EntityHurtEvent, options?: EntityEventOptions)}}, which fires when an entity takes damage
* Removed 'Minecraft' and 'GameTest' imports
** {{cd|mojang-minecraft}} and {{cd|mojang-gametest}} are now used.

== Fixes ==
'''Stability and Performance'''
* Fixed several crashes that could occur during gameplay.
* Fixed possible crashes on Android when suspending or resuming the app.

'''Gameplay'''
* Vertical field of view is no longer halved in horizontal split screen, making items such as book & quill easier to view when playing in split screen.
* Tweaked surrounding terrain for structures such as villages during world generation ({{bug|MCPE-145659}}).
* TNT no longer disappears when ignited with the 'TNT Explodes' game rule disabled and the 'Fire Spreads' game rule enabled ({{bug|MCPE-82485}}).
* Gravity affected blocks now fall on top snow when placed above it instead of hovering over it ({{bug|MCPE-151407}}).

'''Vanilla Parity'''
* Players flying in Creative mode are no longer pushed by liquid current ({{bug|MCPE-84592}}).
* Farmer villagers can now use bone meal on crops and can turn excess seeds into bone meal at their composter ({{bug|MCPE-74079}}).
* Protection enchantment now properly works on most damage types ({{bug|MCPE-40651}}).
* Fixed a desync issue that could sometimes cause health to regenerate only visually.
* Landing on a stalagmite is now properly considered fall damage ({{bug|MCPE-151192}}).
* Fixed some issues in where damage invulnerability wasn't properly being applied.
* Fixed an issue where the Protection enchantments mitigated too much damage. This has been changed to match ''Java Edition'' ({{bug|MCPE-113191}}).
* Absorption hearts no longer stay yellow while under the Wither effect ({{bug|MCPE-131852}}).
* Lowered the amount of knockback resistance granted by netherite armor ({{bug|MCPE-109408}}).
* Punching deals less damage now, to better match the Java Edition ({{bug|MCPE-152713}}).

'''Graphical'''
* Fixed a bug in the glow squid's texture where the glow map in the alpha channel was incorrect, causing patches of non-glowing texture to be seen ({{bug|MCPE-117507}}).
* Fixed the crosshair disappearing when Outline Selection for blocks is disabled.
* Players that are on fire now render fire in front of the player on the inventory screen regardless of in-game camera perspective ({{bug|MCPE-147777}}).
* Fixed a highlight effect on leather armor appearing on paperdolls ({{bug|MCPE-75321}}).

'''Items'''
* Bucket of tropical fish no longer displays the incorrect name after catching a fish.

'''Marketplace'''
* The skin equip warning prompt once again appears when equipping a skin from a product page.

'''Mobs'''
* The ravager now targets and attacks the wandering trader ({{bug|MCPE-44606}}).
* Mobs spawned from a dispenser are now persistent ({{bug|MCPE-110521}}).
* Shulkers no longer like to occupy the same block as another shulker ({{bug|MCPE-43972}}).
* Shulkers now prioritize attaching to neighboring block faces before trying to teleport away.
* Shulkers now stay attached to the current attached blockface if it is valid, instead of switching to upright position.

'''User Interface'''
* Fixed text in certain languages not being correctly rendered in the new Create New World screen ({{bug|MCPE-151948}}).

'''Villagers'''
* Cartographers now always unlock Woodland Explorer Map trade ({{bug|MCPE-152725}}).

'''Commands'''
* Correct error output is now displayed when attempting to use the {{cmd|loot spawn}} command passing in the position of an unloaded area and there is 0 loot to drop.
* Added {{cmd|loot}} command insert loot and insert kill overload.
* Title commands fired before a client was done joining will now show instead of being ignored.</onlyinclude>

== References ==
{{Reflist}}

== Navigation ==
{{Navbox Bedrock Edition versions|1.1x}}

[[Category:Bedrock Edition 1.18.30 betas]]
[[de:Bedrock Edition beta 1.18.30.20]]
[[es:Bedrock Edition beta 1.18.30.20]]
[[ja:Bedrock Edition Preview 1.18.30.21]]
[[pt:Edição Bedrock Preview 1.18.30.21]]
[[zh:基岩版1.18.30.20]]