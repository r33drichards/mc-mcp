{{Infobox version
|title=Minecraft 21w38a
|image=21w38a.jpg
|image2=Java Edition 21w38a.png
|edition=Java
|type=Snapshot
|date=September 23, 2021
|jsonhash=50e584d16f48df70a9bb069e26ac30a072bc2236
|clienthash=4e7c161ec40c9928ebfcc1f96be407d71de4b50d
|clientmap=48909520218e7d855af4c88aea724b7cc456899a
|serverhash=1283dff678ee5efb8e52d2fc77ec9d840317c6ca
|servermap=eb442d7286b2c4372cd2c6dabf369947e02dd4d2
|parent=1.18
|prevparent=1.17.1
|prev=21w37a
|next=21w39a
|nextparent=1.18.1
}}<onlyinclude>

'''21w38a''' is the second [[snapshot]] for [[Java Edition 1.18]], released on September 23, 2021,<ref>{{snap|21w38a|September 23, 2021}}</ref> which make more performance-related tweaks, reimplements telemetry, and fixes bugs, mostly relating to terrain changes that were accidentally removed in the [[21w37a|previous snapshot]].

Any worlds from previous versions cannot be opened in this version.

== Additions ==
=== General ===
'''[[Language]]s'''
* Added Lombard.<ref group=note>Also available for versions since [[19w34a]].</ref>
* Added Toki Pona.<ref group=note>Also available for versions since [[20w06a]].</ref>

'''[[Options]]'''
* Added "Simulation Distance" video setting, a new slider.
** Entities aren't updated outside of simulation distance.
** Allows higher render distance with less CPU load.

'''[[Subtitles]]'''
* Added a new subtitle for the crop sound of [[shears]].

'''[[server.properties]]'''
* Added <code>simulation-distance</code>.

'''Telemetry'''
* Readded, previously a part of game known as "[[snooper]]" until [[18w20c]].
** Only implemented in world load event now.
** Sent data when loading singleplayer world or connecting to multiplayer server.
** Contains following information:
*** Launcher identifier
*** User identitifer (XUID)
*** Client session ID (changes on restart)
*** World session ID (changes per world load, to be reused for later events)
*** Game version
*** Operating system name and version
*** Java runtime version
*** If client or server is modded (same information as on crash logs)
*** Server type (single player, Realms or other)
*** Game mode
** Cannot be disabled. <ref>{{bug|MC-237493|||Works As Intended}}</ref>

== Changes ==
=== World generation ===
'''[[Ore]] distribution'''
* [[Copper ore]] now generates up to Y=95, and its amount was increased.
* [[Lapis lazuli ore]] now generates in blobs, like other ores, instead of spread out.

=== General ===
'''Performance'''
* Now, various background tasks including world generation are executed on a background thread pool.
** The size of the thread pool equals <code>''Amount of available CPU threads'' - 1</code>.
*** Maximum amount of threads is 255, instead of 7. This limit can be overridden by Java system property <code>max.bg.threads</code>.

'''[[Sprinting]]'''
* No longer reduced to walking when touching the wall at low angles.

== Fixes ==
{{fixes|fixedin=21w38a
|;old
|44055|Game fails to switch the audio output from one device to another from the title screen after the game has started.
|128762|Strongholds do not generate in ocean buffet worlds.
|136288|Strongholds don't generate in swamp biomes.
|158410|Strongholds don't generate in beach surface and snowy beaches buffet worlds.
|183184|Sprinting stops as soon as you touch another block.
|202036|Adding a biome to a datapack shifts biome IDs in existing chunks.
|;previous
|236611|No sound for using shears on weeping, twisting, cave vines or kelp.
|236618|Strongholds don't generate in 21w37a.
|236621|Liquids sometimes do not propagate.
|236633|Random light level of 0 in sky.
|236656|Crash when changing render distance: <code>java.lang.ArrayIndexOutOfBoundsException</code>: Index 28084 out of bounds for length 26136.
|236665|Memory leak in 21w37a.
|236682|Large and continuous lag spikes sometimes occur when loading or reloading into a world in 21w37a.
|236698|Big spruce trees don't generate in groves.
|236711|Starting and stopping JFR profiling multiple times within the same minute overwrites previous JFR results saved during that minute.
|236718|Dripstone caves generate above the ground.
|236753|Caves and lakes generating too much in desert surface.
|236795|Cannot start with alternate JVM due to JFR requirement.
|236873|Problems with JFR event metadata.
|236967|Too many aquifers on biome surfaces at Y{{=}}63 and below.
|237109|Aquifers often generate with harsh straight borders.
}}</onlyinclude>

== Videos ==
{{Slicedlime|Pah_KSVWQU8|LQJevDfv-Y4}}

== Trivia ==
* Unlike most of the first-of-the-week snapshots, this was released on a Thursday instead of Wednesday, similar to the snapshots before [[14w26a]].

== Notes ==
{{Notelist}}

== References ==
{{Reflist}}

== Navigation ==
{{Navbox Java Edition versions|1.1x}}

[[de:21w38a]]
[[es:Java Edition 21w38a]]
[[fr:Édition Java 21w38a]]
[[it:Java Edition 21w38a]]
[[ja:Java Edition 21w38a]]
[[pt:Edição Java 21w38a]]
[[ru:21w38a (Java Edition)]]
[[th:รุ่น Java 21w38a]]
[[zh:Java版21w38a]]