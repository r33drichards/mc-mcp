{{exclusive|java}}

{{Infobox command
|name=perf
|serveronly=1
|oplevel=4
}}
Captures information and metrics about the game such as tick durations, used heap sizes, and other more detailed stats.

Note that this command can only be executed on a dedicated server; use {{key|F3+L}} run the performance profiler on a locally hosted world.

== Usage ==
When a performance profiling session is stopped, a ZIP file is created in <samp>.minecraft/debug/profiling</samp> with the following structure:
<div class=treeview>
* '''yyyy-MM-dd_HH.mm.ss-''<world name>''-''<game version>''.zip'''
** '''system.txt'''
** '''server'''
*** '''deviations'''
**** '''ticktime'''
***** '''''<current tick>''@yyyy-MM-dd_HH.mm.ss.SSS.txt'''
*** '''levels'''
**** '''''<namespace>'''''
***** '''<dimension name>'''
****** '''block_entities.csv''': Contains a list of [[block entities]] in the world in the format <code>x,y,z,type</code>.
****** '''chunks.csv''': Contains a list of chunk information in the format {{cd|x,z,level,in_memory,status,full_status,accessible_ready,ticking_ready,entity_ticking_ready,ticket,spawning,entity_count,block_entity_count}}.
****** '''entities.csv''': Contains a list of [[entities]] in the world in the format {{cd|x,y,z,uuid,type,alive,custom_name}}.
****** '''entity_chunks.csv''': Contains a list of loaded chunks in the dimension in the format {{cd|x,y,z,visibility,load_status,entity_count}}.
****** '''example_crash.txt''': An example crash file.
****** '''stats.txt''': Contains some stats.
*** '''metrics'''
**** '''cpu.csv'''
**** '''event_loops.csv'''
**** '''jvm.csv'''
**** '''mailboxes.csv'''
**** '''ticking.csv'''
*** '''classpath.txt''': Contains file paths of external jars the game is using.
*** '''gamerules.txt''': A plain text file containing a list of [[game rule]]s and their values (<code><gamerule>=<value></code>).
*** '''modules.txt''': Contains external modules the game is using.
*** '''profiling.txt''': The profiler results.
*** '''server.properties.txt''': Current [[server.properties]].
*** '''stats.txt''': Contains some stats.
*** '''threads.txt''': All running threads.
</div>

== Syntax ==
:<code>perf start</code>
::Starts a 10-second performance profiling recording.
:<code>perf stop</code>
::Ends the recording early before 10 seconds have passed.

== Result ==
{{Result table|onlyje=1}}
{{Result table|The command is incomplete.|unparseable}}
{{Result table|cmd=/perf start|A performance profiling session has already been started.|fail}}
{{Result table|cmd=/perf stop|No performance profiling session is running.}}
{{Result table|cmd=|succeed}}
{{Result table}}

== Outputs ==
{{Output table}}
{{Output table|edition=je|On fail|N/A|0|0}}
{{Output table|On success|N/A|1|0}}
{{Output table}}

== History ==
{{HistoryTable
|{{HistoryLine|java}}
|{{HistoryLine||1.17|dev=Pre-release 1|Added {{cmd|perf|link=none}}.}}
}}

== Navigation ==
{{Navbox commands}}

[[de:Befehl/perf]]
[[ja:コマンド/perf]]
[[lzh:令/perf]]
[[zh:命令/perf]]