{{See also|Identifier#Registries and registry objects}}

'''Registries''' are repositories of data that contain entries pertaining to certain aspects of the game, such as the world, the player, among others. Each registry enumerates entries of a certain type, such as <code>minecraft:block</code> or <code>minecraft:enchantment</code>, assigning each entry a [[namespaced identifier]], a numeric ID, and [[Tag (Java Edition)|tags]].

The contents of '''built-in registries''' are fixed for a given protocol version. These registries can only be changed through [[modding]]. '''Data-driven registries''' on the other hand can be modified through [[data packs]]. Some data-driven registries are only used by the server, while other '''synchronized registries''' are sent over the network when a player connects, and used by both the client and the server. This ability for the server to send customized registries to the client was introduced in 1.16.3, and allows for a great deal of customization over certain features of the game.

Of these, synchronized registries demand the most consideration from a protocol implementer. Supporting built-in registries properly is also important, as their contents, and consequently IDs, are liable to change between versions.

== Built-in registries ==

These registries are defined directly in Minecraft's code, and can only be changed though modding. The client and server implicitly agree on which numeric IDs correspond to which entries. Unlike [[Java Edition pre-flattening data values|pre-flattening block and item IDs]], these IDs can and often will change between versions.

For versions 1.14 and above the mapping from names to IDs can be obtained from the built-in [[Minecraft Wiki:Projects/wiki.vg merge/Data Generators#Registries report|data generators]].

=== List of built-in registries ===

This list only includes built-in registries that are used directly in the protocol, including ones that are only referenced in [[Java Edition protocol/Packets#Update Tags (configuration)|Update Tags]], but excluding those that are only referenced in registry data NBT.

{| class="wikitable"
 ! Name
 ! Entries
 ! Description
 |-
 | <code>minecraft:attribute</code>
 | [[Attribute#Attributes|Entries]]
 | Entity [[attribute]]s.
 |-
 | <code>minecraft:block</code>
 | [[Java Edition data values/Blocks|Entries]]
 | Types of [[block]]s. Note that the IDs in this registry are separate from (but related to) block state IDs.
 |-
 | <code>minecraft:block_entity_type</code>
 | [[Block entity format#Types|Entries]]
 | Types of [[block entities]].
 |-
 | <code>minecraft:consume_effect_type</code>
 | [[Java Edition protocol/Slot Data#Consume Effect|Entries]]
 | 
 |-
 | <code>minecraft:custom_stat</code>
 | [[Java Edition protocol/Packets#Award Statistics|Entries]]
 | [[Statistics]] which do not fit into any of the other categories.
 |-
 | <code>minecraft:data_component_type</code>
 | [[Java Edition protocol/Slot Data#Structured components|Entries]]
 | [[Data component]]s.
 |-
 | <code>minecraft:entity_type</code>
 | [[Java Edition protocol/Entity metadata#Entities|Entries]]
 | Types of [[entities]].
 |-
 | <code>minecraft:fluid</code>
 | [[Java Edition data values#Fluids|Entries]]
 | Types of [[fluid]]s. Currently only used in the protocol in tag definitions.
 |-
 | <code>minecraft:game_event</code>
 | [[Skulk Sensor#Vibration frequencies|Entries]]
 | Sources of [[vibrations]] detected by [[sculk]] components and [[warden]]s.
 |-
 | <code>minecraft:item</code>
 | [[Java Edition data values/Items|Entries]]
 | Types of [[item]]s.
 |-
 | <code>minecraft:menu</code>
 | [[Java Edition protocol/Inventory#Types|Entries]]
 | Types of [[container]] windows.
 |-
 | <code>minecraft:mob_effect</code>
 | [[Effect#Descriptions|Entries]]
 | Types of [[status effects]].
 |-
 | <code>minecraft:particle_type</code>
 | [[Java Edition protocol/Particles|Entries]]
 | Types of [[Particles (Java Edition)|particle]] effects.
 |-
 | <code>minecraft:potion</code>
 | [[Potion#Item data|Entries]]
 | Built-in [[potion]] types. Note that these have "long" and "strong" variants, as would be seen on brewing.
 |-
 | <code>minecraft:recipe_book_category</code>
 | 
 | [[Recipe book]] tabs.
 |-
 | <code>minecraft:recipe_display</code>
 | [[Java Edition protocol/Recipes#Recipe Display types|Entries]]
 | 
 |-
 | <code>minecraft:slot_display</code>
 | [[Java Edition protocol/Recipes#Slot Display types|Entries]]
 | 
 |-
 | <code>minecraft:sound_event</code>
 | [[Sounds.json#Sound events|Entries]]
 | Built-in [[sound event]]s.
 |-
 | <code>minecraft:stat_type</code>
 | [[Java Edition protocol/Packets#Award Statistics|Entries]]
 | [[Statistic]] categories.
 |-
 | <code>minecraft:villager_type</code>
 | [[Villager#Type data values|Entries]]
 | [[Villager]] biome types.
 |}

== Synchronized registries ==

The server sends these registries to the client via [[Java Edition protocol/Packets#Registry_Data|Registry Data]] packets during the configuration phase, one packet for each registry.

{| class="wikitable"
 ! Packet ID
 ! State
 ! Bound To
 ! colspan="2"| Field Name
 ! colspan="2"| Field Type
 ! Notes
 |-
 | rowspan="3"| [[Minecraft Wiki:Projects/wiki.vg merge/Protocol#Registry_Data_2|Varies]]
 | rowspan="3"| Configuration
 | rowspan="3"| Client
 | colspan="2"| Registry ID
 | colspan="2"| {{Type|Identifier}}
 | Name of the registry, such as <code>minecraft:dimension_type</code>.
 |-
 | rowspan="2"| Entries
 | Entry ID
 | rowspan="2"| {{Type|Prefixed Array}}
 | {{Type|Identifier}}
 | Name of the entry, such as <code>minecraft:overworld</code>.
 |-
 | Data
 | {{Type|Prefixed Optional}} {{Type|NBT}}
 | Entry data. If omitted, sourced from the selected [[#Known packs negotiation|known packs]].
 |}

The ordering of the entries in the Entries array defines the numeric IDs that they will be assigned to, starting from 0 and counting upwards. It is essential to maintain consistency between server and client, since many parts of the protocol reference these entries by their ID. The client will disconnect upon receiving a reference to a non-existing entry.

The NBT data of registry entries has the same structure as their definitions in [[data packs]], but [[NBT_format#Conversion_from_JSON|represented in NBT instead of JSON]]. The format for each registry is defined in the [[#List of synchronized registries|list of registries below]].

=== Obtaining vanilla registry data ===

The default contents of data-driven registries are defined as JSON in the default [[data pack]], which is located inside both [[client.jar]] and [[server.jar]] under data/. These files can be extracted using any ZIP extraction utility. Note however that since 1.18 the server.jar (but not client.jar) distributed by Mojang is wrapped inside a [[Server.jar#Bundler options|bundler]], and extracting the data pack requires first extracting the inner server.jar located at META-INF/versions/*/server-*.jar from the outer server.jar.

Alternatively, the data is available as a single JSON file for the following versions:
* [https://gist.github.com/Mansitoh/e6c5cf8bbf17e9faf4e4e75bb3f4789d 1.21]
* [https://gist.github.com/WinX64/ab8c7a8df797c273b32d3a3b66522906 1.20.6]
* [https://gist.github.com/WinX64/3675ffee90360e9fc1e45074e49f6ede 1.20.2]
* [https://gist.github.com/WinX64/2d257d3df3c7ab9c4b02dc90be881ab2 1.20.1]
* [https://gist.github.com/nikes/aff59b758a807858da131a1881525b14 1.19.2]
* [https://gist.github.com/rj00a/f2970a8ce4d09477ec8f16003b9dce86 1.19]

=== Known packs negotiation ===

In order to save bandwidth, the client and server can negotiate which data packs are known by both peers, and avoid sending NBT sourced from those packs over the network. In practice the vanilla client and server as of 1.21.8 only recognize one data pack, <code>minecraft:core</code>, which contains the default definitions. Data from custom data packs is always sent over the network.

# '''S'''→'''C''': [[Java Edition protocol/Packets#Clientbound Known Packs|Clientbound Known Packs]] (with all data packs known by the server)
# '''C'''→'''S''': [[Java Edition protocol/Packets#Serverbound Known Packs|Serverbound Known Packs]] (with the subset of data packs also known by the client)
# ''Server computes the mutually supported data packs''
# '''S'''→'''C''': Multiple [[Java Edition protocol/Packets#Registry Data|Registry Data]] (for each registry, containing all entries, but excluding mutually known NBT)
# '''S'''→'''C''': [[Java Edition protocol/Packets#Update Tags (configuration)|Update Tags]]
# ''Client accumulates registry and tag data for later resolution''
# '''S'''→'''C''': [[Java Edition protocol/Packets#Finish Configuration|Finish Configuration]]
# ''Client resolves registry and tag data, loading data from packs when requested, and detecting unbound references to entries and tags''

When resolving an entry from a Registry Data packet, the client will always use the NBT data specified in the packet if it is present. Otherwise it will look for the data in the selected known packs. Tag data is never sourced from known packs, and must always be sent by the server in full.

'''If an entry is not mentioned in a Registry Data packet, it will not exist in the game session, even if it exists in one of the known packs. All entries that will be used in the session must be listed in Registry Data packets; only the NBT part can be omitted.'''

When multiple known packs are selected, the client will combine them the same way resource and data packs are normally combined. The packs are listed in Clientbound Known Packs from the bottom of the stack to the top, so earlier packs are overridden by later ones.

A custom server implementation may choose to skip sending Clientbound Known Packs, in which case all NBT data must be present in the Registry Data packets, or to require that the client knows about <code>minecraft:core</code>, in which case no NBT needs to be sent. Similarly a custom client may respond with an empty Serverbound Known Packs packet, and require the server to send all registry NBT. All of these incomplete implementations are compatible with the vanilla implementation, but interoperability between them will be limited.

=== List of synchronized registries ===

{| class="wikitable"
 ! Name
 ! NBT&nbsp;format
 ! Requirements
 ! Description
 |-
 | <code>minecraft:banner_pattern</code>
 | [[Banner pattern definition#JSON Format|NBT format]]
 | Optional
 | Types of [[Banner#Patterns|banner patterns]], specifying their textures.
 |-
 | <code>minecraft:chat_type</code>
 | [[Chat type#JSON format|NBT format]]
 | Optional
 | [[Chat type]]s, specifying how [[chat]] messages are formatted. Referenced in the [[Java Edition protocol/Packets#Disguised Chat Message|Disguised Chat Message]] and [[Java Edition protocol/Packets#Player Chat Message|Player Chat Message]] packets.
 |-
 | <code>minecraft:damage_type</code>
 | [[Damage type#JSON format|NBT format]]
 | [[#Damage type requirements|See below]]
 | [[Damage type]]s, specifying audiovisual effects generated by damage events. Referenced in the [[Java Edition protocol/Packets#Damage Event|Damage Event]] packet.
 |-
 | <code>minecraft:dialog</code>
 | [[Dialog#Dialog format|NBT format]]
 | Optional
 | Types of [[dialog]]s.
 |-
 | <code>minecraft:dimension_type</code>
 | [[Dimension type#JSON format|NBT format]]
 | [[#Dimension type requirements|See below]]
 | Types of [[dimension]]s, specifying characteristics such as the [[build height limit]]. Referenced in the [[Java Edition protocol/Packets#Login (play)|Login (play)]] and [[Java Edition protocol/Packets#Respawn|Respawn]] packets.
 |-
 | <code>minecraft:enchantment</code>
 | [[Enchantment definition#JSON format|NBT format]]
 | Optional
 | Types of [[enchantment]]s.
 |-
 | <code>minecraft:instrument</code>
 | [[Instrument definition#JSON Format|NBT format]]
 | Optional
 | [[Goat horn]] instruments, specifying their tooltip description and the sound event used when the local player uses a goat horn.
 |-
 | <code>minecraft:jukebox_song</code>
 | [[Jukebox song definition#JSON format|NBT format]]
 | Optional
 | Types of [[music disc]]s.
 |-
 | <code>minecraft:painting_variant</code>
 | [[Painting variant definition#JSON Format|NBT format]]
 | Non-empty
 | [[Painting variant]]s.
 |-
 | <code>minecraft:test_environment</code>
 | [[Test environment definition#JSON Format|NBT format]]
 | Optional
 | [[GameTest]] environments.
 |-
 | <code>minecraft:test_instance</code>
 | [[Test instance definition#JSON Format|NBT format]]
 | Optional
 | [[GameTest]] instances.
 |-
 | <code>minecraft:trim_material</code>
 | [[Armor trim definition#Trim material|NBT format]]
 | Optional
 | [[Smithing#Trimming|Armor trim]] materials.
 |-
 | <code>minecraft:trim_pattern</code>
 | [[Armor trim definition#Trim pattern|NBT format]]
 | Optional
 | [[Smithing#Trimming|Armor trim]] patterns.
 |-
 | <code>minecraft:worldgen/biome</code>
 | [[Biome definition#JSON format|NBT format]]
 | [[#Biome requirements|See below]]
 | [[Biome]]s. The name is an artifact of the directory structure used in data packs; the uses of biome information on the client are unrelated to world generation. Referenced in the [[Java Edition protocol/Packets#Chunk Biomes|Chunk Biomes]] and [[Java Edition protocol/Packets#Chunk Data and Update Light|Chunk Data and Update Light]] packets.
 |-
 | <code>minecraft:cat_variant</code>
 | [[Mob variant definitions#Cat|NBT format]]
 | Non-empty
 | [[Cat variant]]s.
 |-
 | <code>minecraft:chicken_variant</code>
 | [[Mob variant definitions#Chicken|NBT format]]
 | Non-empty
 | [[Chicken variant]]s.
 |-
 | <code>minecraft:cow_variant</code>
 | [[Mob variant definitions#Cow|NBT format]]
 | Non-empty
 | [[Cow variant]]s.
 |-
 | <code>minecraft:frog_variant</code>
 | [[Mob variant definitions#Frog|NBT format]]
 | Non-empty
 | [[Frog variant]]s.
 |-
 | <code>minecraft:pig_variant</code>
 | [[Mob variant definitions#Pig|NBT format]]
 | Non-empty
 | [[Pig variant]]s.
 |-
 | <code>minecraft:wolf_variant</code>
 | [[Mob variant definitions#Wolf|NBT format]]
 | Non-empty
 | [[Wolf variant]]s.
 |-
 | <code>minecraft:wolf_sound_variant</code>
 | [[Mob variant definitions#Wolf sounds|NBT format]]
 | Non-empty
 | [[Wolf sound variant]]s.
 |}

==== Damage type requirements ====

The following damage types must be defined for the vanilla client to accept a [[Java Edition protocol/Packets#Login (play)|Login (play)]] packet:

{| class="wikitable"
 ! Name
 |-
 | <code>minecraft:cactus</code>
 |-
 | <code>minecraft:campfire</code>
 |-
 | <code>minecraft:cramming</code>
 |-
 | <code>minecraft:dragon_breath</code>
 |-
 | <code>minecraft:drown</code>
 |-
 | <code>minecraft:dry_out</code>
 |-
 | <code>minecraft:ender_pearl</code>
 |-
 | <code>minecraft:fall</code>
 |-
 | <code>minecraft:fly_into_wall</code>
 |-
 | <code>minecraft:freeze</code>
 |-
 | <code>minecraft:generic</code>
 |-
 | <code>minecraft:generic_kill</code>
 |-
 | <code>minecraft:hot_floor</code>
 |-
 | <code>minecraft:in_fire</code>
 |-
 | <code>minecraft:in_wall</code>
 |-
 | <code>minecraft:lava</code>
 |-
 | <code>minecraft:lightning_bolt</code>
 |-
 | <code>minecraft:magic</code>
 |-
 | <code>minecraft:on_fire</code>
 |-
 | <code>minecraft:out_of_world</code>
 |-
 | <code>minecraft:outside_border</code>
 |-
 | <code>minecraft:stalagmite</code>
 |-
 | <code>minecraft:starve</code>
 |-
 | <code>minecraft:sweet_berry_bush</code>
 |-
 | <code>minecraft:wither</code>
 |}

==== Dimension type requirements ====

The <code>minecraft:dimension_type</code> registry is technically optional, but due to the required Dimension Type field, it is impossible to send a valid [[Java Edition protocol/Packets#Login (play)|Login (play)]] packet unless the registry has at least one entry.

==== Biome requirements ====

A biome named <code>minecraft:plains</code> must be defined for the vanilla client to accept a [[Java Edition protocol/Packets#Login (play)|Login (play)]] packet. It is used as the default for unloaded chunks.

[[Category:Protocol Details]]
[[Category:Java Edition protocol]]

{{license wiki.vg}}